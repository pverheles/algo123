<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>AlgoLearn â€” Recurrence Relations (Beautiful Math)</title>
  <meta name="description" content="Recurrence relations with beautifully typeset math: Master Theorem, recursion tree, substitution method, Akraâ€“Bazzi overview, and interactive intuition." />
  <style>
    :root{
      --bg: #0f1226; --bg-soft: #141738; --card: rgba(255,255,255,0.06);
      --text: #f4f6fb; --muted: #b7c0d6; --accent: #7c9cff; --accent-2: #5ce1e6;
      --ring: rgba(124,156,255,.35); --shadow: 0 10px 30px rgba(0,0,0,.3);
      --border: rgba(255,255,255,.12);
    }
    [data-theme="light"]{
      --bg: #f7f9ff; --bg-soft: #ffffff; --card: rgba(22,26,57,0.06);
      --text: #121325; --muted: #4a4f70; --accent: #3758f9; --accent-2: #0eb5bd;
      --ring: rgba(55,88,249,.25); --shadow: 0 10px 25px rgba(17,24,39,.08);
      --border: rgba(17,24,39,.12);
    }
    *{box-sizing:border-box}
    html{scroll-behavior:smooth}
    body{margin:0;font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial; background:radial-gradient(1250px 650px at 10% -10%, #2b2e52, transparent 70%), radial-gradient(1250px 650px at 110% 10%, #14294d, transparent 70%), var(--bg); color:var(--text); line-height:1.6}
    .container{width:min(1100px,92%);margin-inline:auto}
    .header{position:sticky;top:0;z-index:10;background:linear-gradient(135deg,rgba(124,156,255,.2),rgba(92,225,230,.12));border-bottom:1px solid var(--border);backdrop-filter:blur(8px)}
    .nav{display:flex;align-items:center;justify-content:space-between;gap:1rem;padding:.9rem 0}
    .brand{display:flex;align-items:center;gap:.75rem;font-weight:800;letter-spacing:.3px}
    .brand-logo{width:36px;height:36px;display:grid;place-items:center;border-radius:10px;background:linear-gradient(135deg,var(--accent),var(--accent-2));box-shadow:var(--shadow)}
    .nav a{color:var(--text);text-decoration:none;opacity:.9;font-weight:600}
    .nav a:hover{opacity:1}
    .links{display:flex;gap:1.1rem;align-items:center}
    .ghost{background:transparent;border:1px solid var(--border);padding:.5rem .9rem;border-radius:.7rem}
    .theme-toggle{background:transparent;border:1px solid var(--border);color:var(--text);padding:.45rem .6rem;border-radius:.6rem;cursor:pointer}
    .hero{padding:2.2rem 0 1.2rem}
    .breadcrumbs{color:var(--muted);font-size:.92rem}
    .hero h1{font-size:clamp(2rem,4.5vw,3rem);margin:.4rem 0 .6rem}
    .hero p{color:var(--muted);max-width:65ch}
    .layout{display:grid;grid-template-columns:260px 1fr;gap:1.2rem}
    aside{position:sticky;top:72px;align-self:start;background:var(--bg-soft);border:1px solid var(--border);border-radius:1rem;padding:1rem;box-shadow:var(--shadow)}
    .toc h3{margin:.2rem 0 .4rem;font-size:1rem}
    .toc a{color:var(--muted);text-decoration:none;display:block;padding:.25rem 0}
    .toc a:hover{color:var(--text)}
    .section{background:var(--bg-soft);border:1px solid var(--border);border-radius:1rem;padding:1.2rem;box-shadow:var(--shadow);margin-bottom:1rem}
    .section h2{margin:.1rem 0 .4rem;font-size:1.25rem}
    .muted{color:var(--muted)}
    .kbd{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;background:var(--card);padding:.12rem .35rem;border-radius:.35rem;border:1px solid var(--border)}
    .badge{border:1px dashed var(--border);padding:.15rem .45rem;border-radius:999px;font-size:.8rem;color:var(--muted)}
    .cards{display:grid;grid-template-columns:repeat(2,1fr);gap:.9rem}
    .card{background:var(--card);border:1px solid var(--border);border-radius:.9rem;padding:.8rem 1rem}
    pre{background:var(--bg-soft);border:1px dashed var(--border);border-radius:.7rem;padding:.9rem;overflow:auto}
    code{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace}
    .demo{background:var(--bg-soft);border:1px solid var(--border);border-radius:1rem;padding:1rem;box-shadow:var(--shadow)}
    .grid-2{display:grid;grid-template-columns:1fr 1fr;gap:1rem}
    .panel{background:var(--card);border:1px solid var(--border);border-radius:.9rem;padding:1rem}
    .meta{font-size:.92rem;color:var(--muted)}
    .btn{background:var(--accent);color:#fff;padding:.45rem .8rem;border-radius:.6rem;border:0;cursor:pointer}
    .footer{padding:1.8rem 0;color:var(--muted);text-align:center;font-size:.95rem}
    .footer a{color:var(--accent-2);text-decoration:none}
    @media (max-width:980px){.layout{grid-template-columns:1fr}aside{position:relative;top:auto}.cards,.grid-2{grid-template-columns:1fr}}
  </style>
  <!-- MathJax v3 for beautiful formulas -->
  <script>
    window.MathJax = {
      tex: { inlineMath: [['\\(','\\)'], ['$', '$']], displayMath: [['\\[','\\]'], ['$$','$$']], processEscapes: true },
      options: { renderActions: { addMenu: [] } }
    };
  </script>
  <script defer src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
</head>
<body>
  <header class="header">
    <nav class="nav container" aria-label="Primary">
      <div class="brand" aria-label="Logo & Brand">
        <div class="brand-logo" aria-hidden="true">
          <svg viewBox="0 0 24 24" width="20" height="20" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M4 12h6l-4 8 8-16h6l-4 8h6" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </div>
        <span>AlgoLearn</span>
      </div>
      <div class="links">
        <a href="../index.html">Home</a>
        <a href="../foundations.html">Foundations</a>
        <a class="ghost" href="amortized.html">Next: Amortized Analysis â†’</a>
        <button class="theme-toggle" id="theme-toggle" title="Toggle theme" aria-label="Toggle theme">ðŸŒ“</button>
      </div>
    </nav>
  </header>

  <section class="hero container">
    <div class="breadcrumbs">Home / <a href="../index.html" class="muted" style="text-decoration:none;">Curriculum</a> / <a href="../foundations.html" class="muted" style="text-decoration:none;">Foundations</a> / Recurrence Relations</div>
    <h1>Recurrence Relations</h1>
    <p>Model and solve the running time of divideâ€‘andâ€‘conquer algorithms using \(\text{Master Theorem}\), recursion trees, and substitution. All formulas are typeset with MathJax.</p>
    <div class="badge-row" aria-hidden="true" style="display:flex; gap:.5rem; margin-top:.4rem;">
      <span class="badge">Divide & Conquer</span>
      <span class="badge">Master Theorem</span>
      <span class="badge">Beautiful Math</span>
    </div>
  </section>

  <main class="container layout" id="content">
    <aside id="toc" class="toc" aria-label="On this page">
      <h3>On this page</h3>
      <nav>
        <a href="#form">Canonical Form</a>
        <a href="#master">Master Theorem</a>
        <a href="#tree">Recursion Tree</a>
        <a href="#subst">Substitution</a>
        <a href="#examples">Worked Examples</a>
        <a href="#akra">Akraâ€“Bazzi</a>
        <a href="#pitfalls">Pitfalls</a>
        <a href="#demo">Interactive Intuition</a>
        <a href="#next">Next</a>
      </nav>
    </aside>

    <div>
      <section id="form" class="section">
        <h2>Canonical Form</h2>
        <p>Many divideâ€‘andâ€‘conquer algorithms lead to recurrences of the form</p>
        <p style="font-size:1.05rem">\[ T(n) = a\, T\!\left(\frac{n}{b}\right) + f(n), \quad a \ge 1,\; b>1. \]</p>
        <p>Here, \(a\) is the number of subproblems, each of size \(n/b\), and \(f(n)\) is the nonâ€‘recursive work (split + combine).</p>
      </section>

      <section id="master" class="section">
        <h2>Master Theorem</h2>
        <p>Let \(T(n) = a\, T(n/b) + f(n)\) and define the critical exponent \(n^{\log_b a}\). Then:</p>
        <div class="cards">
          <div class="card">
            <strong>Case 1 (leafâ€‘dominated)</strong>
            <p>If \(f(n) = O\!\left(n^{\log_b a - \varepsilon}\right)\) for some \(\varepsilon>0\), then \(T(n) = \Theta\!\left(n^{\log_b a}\right)\).</p>
          </div>
          <div class="card">
            <strong>Case 2 (balanced)</strong>
            <p>If \(f(n) = \Theta\!\left(n^{\log_b a}\,(\log n)^k\right)\) for some \(k\ge 0\), then \(T(n) = \Theta\!\left(n^{\log_b a}\,(\log n)^{k+1}\right)\).</p>
          </div>
          <div class="card">
            <strong>Case 3 (rootâ€‘dominated)</strong>
            <p>If \(f(n) = \Omega\!\left(n^{\log_b a + \varepsilon}\right)\) and the regularity condition holds, then \(T(n) = \Theta\!\left(f(n)\right)\).</p>
            <p class="meta">Regularity: typically \(a\, f(n/b) \le c\, f(n)\) for some constant \(c<1\) and large \(n\).</p>
          </div>
        </div>
      </section>

      <section id="tree" class="section">
        <h2>Recursion Tree</h2>
        <p>Expand level by level and sum the work per level. For example, \(T(n)=2T(n/2)+n\):</p>
        <p>\[ n + n + n + \cdots + n \;\; (\text{\#levels} = \log_2 n + 1) \;\; = \; \Theta(n\log n). \]</p>
      </section>

      <section id="subst" class="section">
        <h2>Substitution</h2>
        <p>Guess a bound and prove it by induction. Example for mergesort: guess \(T(n) \le c\, n\log n\) and verify initialization, maintenance, termination.</p>
      </section>

      <section id="examples" class="section">
        <h2>Worked Examples</h2>
        <div class="cards">
          <div class="card">
            <strong>Merge Sort</strong>
            <p>\(T(n) = 2T(n/2) + n \Rightarrow \Theta(n\log n)\) (Case 2).</p>
          </div>
          <div class="card">
            <strong>Binary Search</strong>
            <p>\(T(n) = T(n/2) + 1 \Rightarrow \Theta(\log n)\).</p>
          </div>
          <div class="card">
            <strong>Karatsubaâ€‘style</strong>
            <p>\(T(n) = 3T(n/2) + n \Rightarrow \Theta\!\left(n^{\log_2 3}\right)\approx \Theta(n^{1.585})\).</p>
          </div>
          <div class="card">
            <strong>Rootâ€‘dominated</strong>
            <p>\(T(n) = 2T(n/2) + n^2 \Rightarrow \Theta(n^2)\).</p>
          </div>
        </div>
      </section>

      <section id="akra" class="section">
        <h2>Akraâ€“Bazzi (overview)</h2>
        <p>Generalizes Master Theorem to \( T(x) = \sum_i a_i\, T(b_i x + h_i(x)) + g(x) \). Solve for \(p\) such that \(\sum_i a_i b_i^p = 1\), then</p>
        <p>\[ T(x) = \Theta\!\left(x^p\Bigl(1 + \int^x \frac{g(u)}{u^{p+1}}\,du\Bigr)\right). \]</p>
      </section>

      <section id="pitfalls" class="section">
        <h2>Common Pitfalls</h2>
        <ul>
          <li>Applying Master Theorem when its preconditions fail.</li>
          <li>Forgetting floor/ceiling effects (usually donâ€™t change \(\Theta\), but check base cases).</li>
          <li>Ignoring the regularity condition in Case 3.</li>
          <li>Assuming balanced splits when they are not (e.g., quicksort with bad pivots).</li>
        </ul>
      </section>

      <section id="demo" class="section demo">
        <h2>Interactive Intuition</h2>
        <div class="grid-2">
          <div class="panel">
            <label for="n">Input size n:</label>
            <input id="n" type="range" min="1" max="1000000" step="1" value="1024" style="width:100%" />
            <div class="meta">n = <span id="n-val">1,024</span></div>
            <p><button class="btn" id="calc">Recalculate</button></p>
            <p class="meta">We approximate costs using classic closedâ€‘forms.</p>
          </div>
          <div class="panel">
            <h3 style="margin-top:.2rem;">Estimated Growth (units)</h3>
            <ul>
              <li>\(T(n) = 2T(n/2) + n\) â‡’ <strong><span id="nlogn">â€”</span></strong> â‰ˆ \(n\log_2 n\)</li>
              <li>\(T(n) = T(n/2) + 1\) â‡’ <strong><span id="logn">â€”</span></strong> â‰ˆ \(\log_2 n\)</li>
              <li>\(T(n) = 3T(n/2) + n\) â‡’ <strong><span id="n15">â€”</span></strong> â‰ˆ \(n^{\log_2 3}\)</li>
              <li>\(T(n) = 2T(n/2) + n^2\) â‡’ <strong><span id="n2">â€”</span></strong> â‰ˆ \(n^2\)</li>
            </ul>
          </div>
        </div>
      </section>

      <section id="next" class="section">
        <h2>Next</h2>
        <p>Proceed to <a href="amortized.html">Amortized Analysis</a>, or jump back to <a href="../core-paradigms.html">Core Paradigms</a>.</p>
      </section>
    </div>
  </main>

  <footer class="footer">
    <p>Â© <span id="year"></span> AlgoLearn Â· <a href="../index.html">Back to Home</a></p>
  </footer>

  <script>
    // Theme toggle
    const key = 'algolearn-theme';
    const root = document.documentElement;
    const toggle = document.getElementById('theme-toggle');
    const saved = localStorage.getItem(key);
    if(saved === 'light'){ root.setAttribute('data-theme','light'); }
    toggle?.addEventListener('click', () => {
      const light = root.getAttribute('data-theme') === 'light';
      root.setAttribute('data-theme', light ? '' : 'light');
      localStorage.setItem(key, light ? '' : 'light');
    });

    // Year
    document.getElementById('year').textContent = new Date().getFullYear();

    // Demo calculations
    const nRange = document.getElementById('n');
    const nVal = document.getElementById('n-val');
    const nlogn = document.getElementById('nlogn');
    const logn = document.getElementById('logn');
    const n15 = document.getElementById('n15');
    const n2 = document.getElementById('n2');
    const calcBtn = document.getElementById('calc');

    function recalc(){
      const n = Math.max(1, parseInt(nRange.value, 10) || 1);
      const lg = Math.max(1, Math.floor(Math.log2(n)) + 1);
      nVal.textContent = n.toLocaleString();
      nlogn.textContent = (n * lg).toLocaleString();
      logn.textContent = lg.toLocaleString();
      const p = Math.log(3) / Math.log(2); // log2(3)
      n15.textContent = Math.round(Math.pow(n, p)).toLocaleString();
      n2.textContent = (n*n).toLocaleString();
    }
    nRange.addEventListener('input', recalc);
    calcBtn.addEventListener('click', recalc);
    recalc();
  </script>
</body>
</html>
